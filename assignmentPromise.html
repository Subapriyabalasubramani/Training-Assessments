<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <style>
      body {
        background-color: slategrey;
        font-family: monospace;
      }
      h3 {
        margin-top: 10px;
        text-align: center;
        font-size: 26px;
      }
      #text-content{
        text-align: center;
        font-size: 20px;
        margin-top: 8px;
        color: white;
      }
      .btn-container {
        text-align: center;
      }
      #launch-btn {
        height: 34px;
        border-radius: 8px;
        border-style: none;
        font-family: monospace;
        margin-top: 10px;
      }
      img{
        height: 300px;
      }
      h5{
        text-align: center;
        color: rgb(175, 108, 108); 
        margin: 12px; 
      }
    </style>
  </head>

  <body>
    <div>
      <h3>Space Launch Information Dashboard</h3>
      <p id="text-content"></p>
      <div class="container d-flex justify-content-center mt-4" id="launch-container">
        <div class="card" id="card-container" style="width: 28rem; display: none;">
          <div class="card-body" id="data-container"></div>
        </div>
      </div>
      <div class="btn-container">
        <button id="launch-btn" onclick="launchDetails()">
          Load Latest Launch
        </button>
      </div>
    </div>
    <script>
      const launchDetails = () => {
        const textDetails = document.getElementById("text-content");
        textDetails.textContent = "Loading Launch details...";
        fetch("https://api.spacexdata.com/v4/launches/latest")
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP Error: ${response.status}`);
            }
            return response.json();
          })
          .then((launchDetails) => {
            const dataContainer = document.getElementById("data-container");
            document.getElementById("card-container").style.display = "block";
            textDetails.textContent = "";
            dataContainer.innerHTML = `
                <img src="${launchDetails.links.patch.small}" alt="space_image" class="card-img-top">
                <h5>Name: ${launchDetails.name}</h5>
                <h5>Flight: ${launchDetails.flight_number}</h5>
                <p>Local Date: ${launchDetails.date_local}</p>
                <p>UTC Date: ${launchDetails.date_utc}</p>
                <p>Date Precision: ${launchDetails.date_precision}</p>
                <p><a href="${launchDetails.links.webcast}" target="_blank">Watch Webcast</a></p>
                <p><a href="${launchDetails.links.wikipedia}" target="_blank">Wikipedia</a></p>
                <p><a href="${launchDetails.links.reddit.launch}" target="_blank">Reddit Launch Thread</a></p>
                <p>Landing Attempt: ${launchDetails.cores[0]?.landing_attempt}</p>
                <p>Launch Success: ${launchDetails.success}`;
            document.getElementById("launch-btn").disabled = true;
          })
          .catch((errorMsg) => {
            textDetails.textContent = errorMsg.message;
          });
      };
    </script>
  </body>
</html>
